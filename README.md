# Проект «Вова-Стандарт» (gostanalysis_gas)

## Описание
Этот проект представляет собой веб-приложение, развернутое в среде Google Apps Script (GAS). Оно предоставляет пользователям мощный инструмент для работы с международными и национальными стандартами (ГОСТ, ДСТУ, ISO и др.) на базе ИИ-модели Google Gemini.

Приложение позволяет анализировать списки стандартов, получать по ним структурированную информацию (статус, наименование, источники) и вести диалог с ИИ-экспертом в режиме чата. Контекст из проведенного анализа автоматически передается в чат, позволяя ИИ отвечать на уточняющие вопросы.

## Ключевые возможности
*   **Анализ стандартов:** Массовая проверка списка стандартов по различным юрисдикциям (Украина, Россия, Казахстан и др.).
*   **Гибкая таблица результатов:** Возможность включать/отключать дополнительные колонки (например, "Чем заменен", "Источник").
*   **Контекстный чат с ИИ:** Диалог с ИИ-экспертом "Вова-Стандарт", который "помнит" результаты последнего анализа.
*   **Долговременная память:** Возможность сохранять ключевые инструкции для ИИ, которые будут учитываться во всех последующих запросах с высшим приоритетом.
*   **Экспорт данных:** Выгрузка результатов анализа в форматах `.MD` и `.CSV`, а также экспорт истории чата.
*   **Современный UI/UX:** Адаптивный дизайн с поддержкой светлой и темной тем, индикаторами загрузки и неблокирующими уведомлениями.

## Развертывание и настройка

Для корректной работы приложения в вашей среде Google Apps Script, выполните следующие шаги:

### Шаг 1: Настройка проекта GAS
1.  Создайте новый проект в [Google Apps Script](https://script.google.com/).
2.  Скопируйте содержимое файлов `Code.js` и `index.html` в соответствующие файлы вашего проекта.
3.  Откройте `appsscript.json` (через меню `Проект` -> `Показать файл манифеста`) и убедитесь, что его содержимое соответствует файлу из этого проекта, особенно в части `oauthScopes`.

### Шаг 2: Настройка свойств скрипта (Критически важно!)
Для работы приложения необходимо указать API-ключ и, опционально, ID таблицы для логирования.
1.  В редакторе GAS слева нажмите на иконку **"Настройки проекта" (шестеренка)**.
2.  В разделе **"Свойства скрипта" (`Script Properties`)** нажмите кнопку **"Изменить свойства скрипта"**.
3.  Добавьте два свойства:
    *   **`GEMINI_API_KEY`**: Ваш API-ключ для доступа к Google AI Gemini API. **Без этого ключа приложение работать не будет.**
    *   **`LOG_SHEET_ID`**: (Опционально) ID вашей Google Таблицы для ведения журнала использования API. Если вы не планируете вести журнал, это свойство можно не добавлять.

### Шаг 3: Развертывание веб-приложения
1.  В правом верхнем углу редактора нажмите **"Развертывание" -> "Новое развертывание"**.
2.  В открывшемся окне выберите тип развертывания **"Веб-приложение"**.
3.  Заполните поля:
    *   **Описание:** Например, "Вова-Стандарт v1.0".
    *   **Веб-приложение -> Выполнять как:** `Я (ваш_email@example.com)`.
    *   **Веб-приложение -> Кто имеет доступ:** `Все`.
4.  Нажмите **"Развернуть"**. Предоставьте необходимые разрешения, если потребуется.
5.  Вы получите URL-адрес вашего веб-приложения. Используйте его для доступа к приложению.

**Важно:** При каждом изменении кода (`Code.js` или `index.html`) необходимо создавать **новую версию** развертывания. Для этого перейдите в **"Развертывание" -> "Управление развертываниями"**, выберите ваше активное развертывание, нажмите на иконку карандаша (Редактировать) и в выпадающем списке "Версия" выберите **"Новая версия"**.
